---
import { cn } from "../../lib/utils";
import SmartImage from "../atoms/SmartImage.astro";

interface Props {
    title: string;
    excerpt: string;
    image: string;
    link: string;
    className?: string;
}

const { title, excerpt, image, link, className } = Astro.props;
---

<a
    href={link}
    class={cn(
        "block max-w-[340px] hover:-translate-y-2 transition-transform duration-500 group perspective-1000 p-1",
        className,
    )}
>
    <div
        class="h-full flex flex-col rounded-3xl overflow-hidden border border-white/20 bg-white/10 backdrop-blur-md shadow-lg hover:shadow-2xl hover:bg-white/20 transition-all duration-300 relative"
    >
        <!-- Frosty Glow Layer -->
        <div
            class="absolute inset-0 bg-gradient-to-b from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"
        >
        </div>

        <div class="h-52 overflow-hidden relative z-10">
            <SmartImage
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out"
                src={image}
                alt={title}
            />
            <!-- Image Overlay for text contrast if needed -->
            <div
                class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-60"
            >
            </div>
        </div>

        <div class="p-5 flex-1 flex flex-col relative z-10">
            <!-- Date or Category Tag could go here -->
            <h3
                class="text-xl line-clamp-2 font-bold text-slate-800 mb-3 group-hover:text-[#4E7CCE] transition-colors leading-tight"
            >
                {title}
            </h3>
            <div
                class="text-sm text-slate-700 leading-relaxed font-medium"
                set:html={excerpt}
            />

            <div
                class="mt-auto pt-4 border-t border-slate-900/5 flex items-center justify-between"
            >
                <span
                    class="text-xs font-extrabold text-[#4E7CCE] uppercase tracking-wider"
                    >Leer más</span
                >
                <div
                    class="h-8 w-8 rounded-full bg-white/40 flex items-center justify-center group-hover:bg-[#4E7CCE] group-hover:text-white transition-colors duration-300 backdrop-blur-sm border border-white/30 shadow-sm"
                >
                    <span class="text-sm">→</span>
                </div>
            </div>
        </div>
    </div>
</a>
